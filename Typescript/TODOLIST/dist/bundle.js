(()=>{"use strict";function e(e,n){var t=document.createElement(n.tagName);return t.id=e,t.addEventListener(n.eventName,n.eventHandler),t.textContent=n.label,{el:t,getValue:function(){return n.getValue(t)},setValue:function(e){n.setValue(t,e)}}}function n(n,t){return e(n,{tagName:"button",eventName:"click",eventHandler:t.onClick,label:t.label,getValue:function(){},setValue:function(){}})}function t(n,t){var a=e(n,{tagName:"ul",eventName:"",eventHandler:function(){},label:t.label,getValue:function(){return t.datas},setValue:function(){}});function o(e,n){a.el.innerHTML="",e.forEach((function(e){var t=document.createElement("li");n.forEach((function(n){var a=n.render(e);t.append(a.el)})),a.el.append(t)}))}return o(t.datas,t.columns),{el:a.el,getValue:a.getValue,setValue:function(e){a.el.innerHTML="",o(e,t.columns)}}}var a=function(e,n){this.id=e,this.contents=n,this.done=!1},o=[];function l(e){return e?o.filter((function(e){return e.done})):o.filter((function(e){return!e.done}))}function u(){b.setValue(l(!1))}function r(){h.setValue(l(!0))}function c(e){var n=document.createElement("input");return n.type="checkbox",n.checked=e.done,n.onchange=function(n){var t=n.target;e.done=t.checked,u(),r()},{el:n}}function d(e){var n=document.createElement("span");return n.textContent=e.contents,{el:n}}function i(e){return{el:n("btnDel",{label:"삭제",onClick:function(){o.splice(o.indexOf(e),1),u(),r()}}).el}}var f=document.getElementById("container"),s=document.createElement("div");f.appendChild(s);var m,v=e("todoInput",{tagName:"input",eventName:"keydown",eventHandler:(m={onKeyDown:function(e){e.target.value}}).onKeyDown,label:m.label,getValue:function(e){return e.value},setValue:function(e,n){e.value=n}});s.append(v.el);var g=n("btnSave",{label:"입력",onClick:function(){console.log("클릭"),console.log(v.getValue()),v.getValue()?(o.push(new a(crypto.randomUUID(),v.getValue())),u(),v.setValue(""),v.el.focus()):alert("할일을 입력해주세요")}});s.append(g.el);var p=document.getElementById("todo-container"),V=document.getElementById("done-container"),b=t("todoList",{datas:l(!1),columns:[{id:"done",render:c},{id:"todo",render:d},{id:"delete",render:i}]});p.append(b.el);var h=t("todoListDone",{datas:l(!0),columns:[{id:"done",render:c},{id:"todo",render:d},{id:"delete",render:i}]});V.append(h.el)})();